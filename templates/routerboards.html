{% extends "layout.html" %}
{% block content %}

<h1>Routerboards</h1>

<!-- Button trigger modal -->
<button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModalCenter">
  Add routerboard
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Add routerboard</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <form class="needs-validation" action="{{ url_for('routerboards') }}" method="POST" novalidate>
        <div class="modal-body">
          <div class="form-group">
            <label for="formGroupExampleInput">Identity</label>
            <input type="text" class="form-control" id="rb_identity" name="rb_identity" placeholder="Identity" required>
          </div>
          <div class="form-group">
            <label for="formGroupExampleInput2">IP Address</label>
            <input type="text" class="form-control" id="rb_ipAddress" name="rb_ipAddress" placeholder="IP address" required>
          </div>
          <div class="form-group">
            <label for="formGroupExampleInput3">Location</label>
            <input type="text" class="form-control" id="rb_Locality" name="rb_Locality" placeholder="Location" required>
          </div>
          <div class="form-group">
            <label for="formGroupExampleInput4">Username</label>
            <input type="text" class="form-control" id="rb_Username" name="rb_Username" placeholder="Username" required>
          </div>
          <div class="form-group">
            <label for="formGroupExampleInput5">Password</label>
            <input type="text" class="form-control" id="rb_Password" name="rb_Password" placeholder="Password" required>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="submit" name="submit" value="Add" class="btn btn-primary">Add</button>
        </div>
    </div>
  </div>
</div>
</form>

<!-- Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Confirmation</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Are you sure, to delete this routerboard?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
        <button type="button" class="btn btn-primary">Yes</button>
      </div>
    </div>
  </div>
</div>



<table class="table table-striped table-sm shadow p-3 mb-5 bg-white rounded">
  <thead>
    <tr>
      <th scope="col">id</th>
      <th scope="col">Identity</th>
      <th scope="col">IP Address</th>
      <th scope="col">Location</th>
      <th scope="col">Action</th>
    </tr>
  </thead>

  <form action="{{ url_for('routerboards') }}" method="post">

    <tbody>

      {% for rb in routerboards %}

      <tr>
        <th scope="row">{{rb[0]}}</th>
        <td><a href="routerboards/id/{{rb[0]}}" class="badge badge-success">{{rb[1]}}</a></td>
        <td>{{rb[2]}}</td>
        <td>{{rb[3]}}</td>
        <td>
          <button type="submit" name="submit" value="delButton{{rb[0]}}" class="btn btn-danger btn-sm">
            <i class="fas fa-trash"></i>
          </button>
        </td>
      </tr>

      {% endfor %}

    </tbody>
  </form>
</table>


<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  (function() {
    'use strict';
    window.addEventListener('load', function() {
      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.getElementsByClassName('needs-validation');
      // Loop over them and prevent submission
      var validation = Array.prototype.filter.call(forms, function(form) {
        form.addEventListener('submit', function(event) {
          if (form.checkValidity() === false) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    }, false);
  })();
</script>

{% endblock %}
